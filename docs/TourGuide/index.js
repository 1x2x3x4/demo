const link=document.createElement("link");link.rel="stylesheet",link.href="TourGuide/tourGuide.css",document.head.appendChild(link),document.addEventListener("DOMContentLoaded",(async()=>{const e=document.createElement("script");e.type="module",e.textContent="\n    import TourGuide from './TourGuide/tourGuide.js';\n\n    // 检查是否是首次打开页面（通过localStorage）\n    const firstVisit = localStorage.getItem('oscFirstVisit');\n    const lastVersion = localStorage.getItem('oscVersion');\n    const currentVersion = '1.2.0'; // 当前系统版本\n    \n    // 首次访问或版本升级时显示引导\n    if (firstVisit === null || lastVersion !== currentVersion) {\n      // 标记为已访问且更新版本\n      localStorage.setItem('oscFirstVisit', 'false');\n      localStorage.setItem('oscVersion', currentVersion);\n      \n      // 延迟启动引导，确保页面元素完全加载\n      setTimeout(async () => {\n        try {\n      const guide = await TourGuide.from();\n          guide.start();\n        } catch (err) {\n          console.error('引导启动失败:', err);\n        }\n      }, 1500);\n    }\n    \n    // 导出全局实例创建方法\n    window.createTourGuide = async () => {\n      const guide = await TourGuide.from();\n      return guide;\n    };\n  ",document.head.appendChild(e);const t=document.createElement("button");t.id="help-button",t.innerHTML="引导教程",t.className="help-button",t.title="查看示波器操作引导",t.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    z-index: 9990;\n    padding: 8px 16px;\n    background-color: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 14px;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n    transition: all 0.3s ease;\n  ",t.addEventListener("mouseover",(()=>{t.style.backgroundColor="#3d8b40",t.style.transform="translateY(-2px)"})),t.addEventListener("mouseout",(()=>{t.style.backgroundColor="#4CAF50",t.style.transform="translateY(0)"})),t.addEventListener("click",(async()=>{window.scrollTo(0,0);const e=document.querySelector("#app")?.__vue__;e?(e.setExpStep("calibration"),e.timeDiv=1,e.voltsDiv={1:1,2:1},e.horizontalPosition=0,e.verticalPosition={1:0,2:0},e.displayAdjustFactors={time:1,volts:{1:1,2:1}},e.triggerLevel=0,"function"==typeof e.refreshDisplay&&e.refreshDisplay(),setTimeout((async()=>{(await window.createTourGuide()).start()}),100)):(await window.createTourGuide()).start()})),document.body.appendChild(t)})),window.TourGuideLoader={init:function(){console.log("使用新API: const guide = await window.createTourGuide(); guide.start();")}};